{"ast":null,"code":"import _classCallCheck from\"/Users/sharonwilliams/Desktop/streetart-dot-map/streetart-dot-map/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _possibleConstructorReturn from\"/Users/sharonwilliams/Desktop/streetart-dot-map/streetart-dot-map/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/sharonwilliams/Desktop/streetart-dot-map/streetart-dot-map/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _createClass from\"/Users/sharonwilliams/Desktop/streetart-dot-map/streetart-dot-map/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sharonwilliams/Desktop/streetart-dot-map/streetart-dot-map/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Map,GoogleApiWrapper,InfoWindow,Marker,GoogleMap}from'google-maps-react';import{connect}from'react-redux';import{Link}from'react-router-dom';import store from'../store';import Container from'react-bootstrap/Container';import{favorite,updateFavoriteForm}from\"../actions/favorites\";import InfoWindowEx from'./InfoWindowEx';import{fetchUserTweets}from'../actions/user_tweets';var mapStyles={margin:'auto',width:'70%',padding:'20px'};export var Favorites=/*#__PURE__*/function(_Component){_inherits(Favorites,_Component);_createClass(Favorites,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;this.props.fetchUserTweets().then(function(res){_this2.setState({favoriteTweets:res.payload});});}}]);function Favorites(props){var _this;_classCallCheck(this,Favorites);_this=_possibleConstructorReturn(this,_getPrototypeOf(Favorites).call(this,props));//this.handleSubmit = this.handleSubmit.bind(this);\n_this.onMarkerClick=function(marker){_this.setState({selectedTweet:_this.props.user_tweets.tweets[marker.id].text,selectedURL:_this.props.user_tweets.tweets[marker.id].url,selectedTweetID:_this.props.user_tweets.tweets[marker.id].id,selectedComment:_this.props.user_tweets.tweets[marker.id].comment,activeMarker:marker,showingInfoWindow:true,redirect:false});console.log(_this.state.selectedTweet);};_this.onMapClicked=function(){if(_this.state.showingInfoWindow){_this.setState({showingInfoWindow:false,activeMarker:null,redirect:true});}};_this.displayMarkers=function(){return _this.state.favoriteTweets.map(function(art,index){return React.createElement(Marker,{key:index,id:index,position:{lat:art.lon*1,lng:art.lat*1}//onClick={() => console.log(\"you clicked\")}\n,onClick:_this.onMarkerClick});});};_this.state={selectedTweet:[],selectedURL:[],selectedComment:[],selectedTweetID:[],activeMarker:{},showingInfoWindow:false,favoriteTweets:[]};return _this;}_createClass(Favorites,[{key:\"render\",value:function render(){//debugger\n//console.log(this.props.currentUser)\nconsole.log(this.state.items);//debugger\nreturn React.createElement(React.Fragment,null,React.createElement(Container,null,React.createElement(\"h1\",null,\"favorite tweets\"),React.createElement(\"h6\",null,\"click on the markers to view your favorite tweets\")),React.createElement(Map,{google:this.props.google,zoom:7,style:mapStyles,onClick:this.onMapClicked,initialCenter:{lat:40.7831,lng:-73.9712}},this.displayMarkers(),this.state.showingInfoWindow?React.createElement(InfoWindowEx,{position:this.state.activeMarker.position,pixelOffset:new this.props.google.maps.Size(0,-30),visible:this.state.showingInfoWindow},React.createElement(\"div\",null,React.createElement(\"p\",null,this.state.selectedTweet),React.createElement(\"a\",{href:this.state.selectedURL,target:\"_blank\"},this.state.selectedURL),React.createElement(\"br\",null),React.createElement(\"p\",null,\"My comment: \",this.state.selectedComment))):null));}}]);return Favorites;}(Component);var mapStateToProps=function mapStateToProps(state){return{user_tweets:state.user_tweets};};var WrappedContainer=GoogleApiWrapper({apiKey:process.env.REACT_APP_GOOGLE_MAPS_KEY})(Favorites);export default connect(mapStateToProps,{fetchUserTweets:fetchUserTweets})(WrappedContainer);","map":{"version":3,"sources":["/Users/sharonwilliams/Desktop/streetart-dot-map/streetart-dot-map/client/src/components/Favorites.js"],"names":["React","Component","Map","GoogleApiWrapper","InfoWindow","Marker","GoogleMap","connect","Link","store","Container","favorite","updateFavoriteForm","InfoWindowEx","fetchUserTweets","mapStyles","margin","width","padding","Favorites","props","then","res","setState","favoriteTweets","payload","onMarkerClick","marker","selectedTweet","user_tweets","tweets","id","text","selectedURL","url","selectedTweetID","selectedComment","comment","activeMarker","showingInfoWindow","redirect","console","log","state","onMapClicked","displayMarkers","map","art","index","lat","lon","lng","items","google","position","maps","Size","mapStateToProps","WrappedContainer","apiKey","process","env","REACT_APP_GOOGLE_MAPS_KEY"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Map, GoogleApiWrapper, InfoWindow, Marker, GoogleMap } from 'google-maps-react';\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport store from '../store'\nimport Container from 'react-bootstrap/Container'\nimport { favorite, updateFavoriteForm } from \"../actions/favorites\"\nimport InfoWindowEx from './InfoWindowEx'\nimport { fetchUserTweets } from '../actions/user_tweets'\n\nconst mapStyles = {\n  margin: 'auto',\n  width: '70%',\n  padding: '20px'\n};\n\nexport class Favorites extends Component {\n\n  componentWillMount() {\n    this.props.fetchUserTweets().then(res => {\n      this.setState({favoriteTweets: res.payload});\n    })\n  }\n\n  constructor(props) {\n    super(props);\n    //this.handleSubmit = this.handleSubmit.bind(this);\n\n    this.state = {\n      selectedTweet: [],\n      selectedURL: [],\n      selectedComment: [],\n      selectedTweetID: [],\n      activeMarker: {},\n      showingInfoWindow: false,\n      favoriteTweets: []\n    };\n  }\n\n  onMarkerClick = (marker) => {\n      this.setState({\n          selectedTweet: this.props.user_tweets.tweets[marker.id].text,\n          selectedURL: this.props.user_tweets.tweets[marker.id].url,\n          selectedTweetID: this.props.user_tweets.tweets[marker.id].id,\n          selectedComment: this.props.user_tweets.tweets[marker.id].comment,\n          activeMarker: marker,\n          showingInfoWindow: true,\n          redirect: false\n      })\n      console.log(this.state.selectedTweet)\n  }\n\n  onMapClicked = () => {\n  if (this.state.showingInfoWindow) {\n    this.setState({\n      showingInfoWindow: false,\n      activeMarker: null,\n      redirect: true\n    })\n  }\n};\n\n    displayMarkers = () => {\n\n      return this.state.favoriteTweets.map((art, index) => {\n        return <Marker key={index} id={index} position={{\n         lat: art.lon*1,\n         lng: art.lat*1\n       }}\n       //onClick={() => console.log(\"you clicked\")}\n       onClick={this.onMarkerClick}\n       />\n      })\n    }\n\n  render() {\n    //debugger\n    //console.log(this.props.currentUser)\n    console.log(this.state.items)\n    //debugger\n    return (\n      <>\n      <Container>\n      <h1>favorite tweets</h1>\n      <h6>click on the markers to view your favorite tweets</h6>\n      </Container>\n      <Map\n        google={this.props.google}\n        zoom={7}\n        style={mapStyles}\n        onClick={this.onMapClicked}\n        initialCenter={{\n         lat: 40.7831,\n         lng: -73.9712\n       }}\n       >\n       {this.displayMarkers()}\n       { this.state.showingInfoWindow ?\n         <InfoWindowEx\n        position={this.state.activeMarker.position}â€¨ pixelOffset={new this.props.google.maps.Size(0, -30)}\n        visible={this.state.showingInfoWindow}>\n          <div>\n            <p>{this.state.selectedTweet}</p>\n            <a href={this.state.selectedURL} target=\"_blank\">{this.state.selectedURL}</a>\n            <br/>\n            <p>My comment: {this.state.selectedComment}</p>\n          </div>\n        </InfoWindowEx>\n      : null\n      }\n      </Map>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    user_tweets: state.user_tweets\n  }\n}\n\nconst WrappedContainer = GoogleApiWrapper({\n    apiKey: process.env.REACT_APP_GOOGLE_MAPS_KEY\n  })(Favorites);\n\nexport default connect (mapStateToProps,{fetchUserTweets})(WrappedContainer)\n"]},"metadata":{},"sourceType":"module"}